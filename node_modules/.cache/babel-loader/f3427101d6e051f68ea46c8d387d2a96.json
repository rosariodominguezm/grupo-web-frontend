{"ast":null,"code":"import _slicedToArray from \"/Users/rosariodominguezm/Desktop/Octavo Semestre/Tecnologi\\u0301as y aplicaciones web/grupo-grupo-web-1-frontend/simulador/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/rosariodominguezm/Desktop/Octavo Semestre/Tecnologi\\u0301as y aplicaciones web/grupo-grupo-web-1-frontend/simulador/src/contexts/cookieAuth.js\";\nimport React from \"react\";\nimport { createContext, useState, useEffect, useMemo } from \"react\";\nimport Cookies from \"js-cookie\";\n\n//Sacado de la capsula\nexport var cookieAuth = createContext();\nvar CookieAuthProvider = function CookieAuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentUser = _useState2[0],\n    setCurrentUser = _useState2[1];\n  var handleUserLogin = function handleUserLogin() {\n    var session = Cookies.get('koa.sess');\n    if (session) {\n      setCurrentUser(true);\n    }\n  };\n  var handleUserLogout = function handleUserLogout() {\n    setCurrentUser(false);\n    Cookies.remove(\"koa.sess\");\n    Cookies.remove(\"koa.sess.sig\");\n  };\n  useEffect(function () {\n    handleUserLogin();\n  }, [currentUser, handleUserLogin, handleUserLogout]);\n  var userStatus = useMemo(function () {\n    return {\n      currentUser: currentUser,\n      handleUserLogin: handleUserLogin,\n      handleUserLogout: handleUserLogout\n    };\n  }, [currentUser, handleUserLogin, handleUserLogout]);\n  return /*#__PURE__*/React.createElement(cookieAuth.Provider, {\n    value: userStatus,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, children);\n};\nexport default CookieAuthProvider;","map":{"version":3,"names":["React","createContext","useState","useEffect","useMemo","Cookies","cookieAuth","CookieAuthProvider","children","currentUser","setCurrentUser","handleUserLogin","session","get","handleUserLogout","remove","userStatus"],"sources":["/Users/rosariodominguezm/Desktop/Octavo Semestre/TecnologiÌas y aplicaciones web/grupo-grupo-web-1-frontend/simulador/src/contexts/cookieAuth.js"],"sourcesContent":["import React from \"react\";\nimport { createContext, useState, useEffect, useMemo } from \"react\";\nimport Cookies from \"js-cookie\";\n\n\n//Sacado de la capsula\nexport const cookieAuth = createContext();\n\nconst CookieAuthProvider = ({ children }) => {\n    const [currentUser, setCurrentUser] = useState(false);\n\n    const handleUserLogin = () => {\n        const session = Cookies.get('koa.sess');\n        if (session) {\n            setCurrentUser(true);\n        } \n    };\n\n    const handleUserLogout = () => {\n        setCurrentUser(false);\n        Cookies.remove(\"koa.sess\");\n        Cookies.remove(\"koa.sess.sig\");\n    };\n\n    useEffect(() => {\n        handleUserLogin()}, [currentUser, handleUserLogin, handleUserLogout],\n    );\n\n    const userStatus = useMemo(\n        () => ({ currentUser, handleUserLogin, handleUserLogout }),\n        [currentUser, handleUserLogin, handleUserLogout],\n    );\n\n    return (\n        <cookieAuth.Provider value={userStatus}>\n            {children}\n        </cookieAuth.Provider>\n    );\n};\n  \nexport default CookieAuthProvider;"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AACnE,OAAOC,OAAO,MAAM,WAAW;;AAG/B;AACA,OAAO,IAAMC,UAAU,GAAGL,aAAa,EAAE;AAEzC,IAAMM,kBAAkB,GAAG,SAArBA,kBAAkB,OAAqB;EAAA,IAAfC,QAAQ,QAARA,QAAQ;EAAA,gBACIN,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA9CO,WAAW;IAAEC,cAAc;EAElC,IAAMC,eAAe,GAAG,SAAlBA,eAAe,GAAS;IAC1B,IAAMC,OAAO,GAAGP,OAAO,CAACQ,GAAG,CAAC,UAAU,CAAC;IACvC,IAAID,OAAO,EAAE;MACTF,cAAc,CAAC,IAAI,CAAC;IACxB;EACJ,CAAC;EAED,IAAMI,gBAAgB,GAAG,SAAnBA,gBAAgB,GAAS;IAC3BJ,cAAc,CAAC,KAAK,CAAC;IACrBL,OAAO,CAACU,MAAM,CAAC,UAAU,CAAC;IAC1BV,OAAO,CAACU,MAAM,CAAC,cAAc,CAAC;EAClC,CAAC;EAEDZ,SAAS,CAAC,YAAM;IACZQ,eAAe,EAAE;EAAA,CAAC,EAAE,CAACF,WAAW,EAAEE,eAAe,EAAEG,gBAAgB,CAAC,CACvE;EAED,IAAME,UAAU,GAAGZ,OAAO,CACtB;IAAA,OAAO;MAAEK,WAAW,EAAXA,WAAW;MAAEE,eAAe,EAAfA,eAAe;MAAEG,gBAAgB,EAAhBA;IAAiB,CAAC;EAAA,CAAC,EAC1D,CAACL,WAAW,EAAEE,eAAe,EAAEG,gBAAgB,CAAC,CACnD;EAED,oBACI,oBAAC,UAAU,CAAC,QAAQ;IAAC,KAAK,EAAEE,UAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAClCR,QAAQ,CACS;AAE9B,CAAC;AAED,eAAeD,kBAAkB"},"metadata":{},"sourceType":"module"}